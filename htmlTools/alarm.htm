<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<meta name="author" content="Geppaku">
	<link rel="icon" href="../favicon.ico">
	<title>Alarm</title>
	<!--　■■■■■　CSS　■■■■■　-->
	<style type="text/css">
		html, body, div, p, pre {
			margin: 0;
			padding: 0;
			border: 0;
			font-size: 100%;
			font: inherit;
			vertical-align: baseline;
		}
		html, body {
			height: 100%;
		}
		button, input, select, textarea, pre {
			font-family: inherit;
			font-size: 100%;
		}
		pre {
			display: inline;
		}
		.l--flex-container {
			display: flex;
			flex-flow: column;
		}
		#schedule {
			height: 8rem;
		}
	</style>
</head>

<body>
	<div class="l--flex-container">
		<textarea id="schedule"></textarea>
		<button class="a--event-speaker">Set</button>
		<div id="timer"></div>
	</div>
	<!--　■■■■■　JavaScript　■■■■■　-->
	<script type="text/javascript">
		window.onload = function() {
			document.querySelectorAll('.a--event-speaker').forEach(function(elm) {
				elm.addEventListener('click', function() {
					timer();
				});
			});
		}
		function timer(){
			clock();
			let schedules = document.getElementById('schedule').value.split('\n').sort().filter((elem) => /^\d{2}:?\d{2}(\s.)*/.test(elem));
			for ( let schedule of schedules ) {
				let time = schedule.match(/^\d{2}:?\d{2}/)[0];
				let event = schedule.match(/^\d{2}:?\d{2}\s*(.*)$/)[1];
				console.log(time);
			}
		}
		function clock() {
			const now = new Date(Date.now() + ((new Date().getTimezoneOffset() + (9 * 60)) * 60 * 1000));
			const Y = now.getFullYear();
			const M = now.getMonth() + 1;
			const D = now.getDate();
			const h = now.getHours();
			const m = now.getMinutes();
			const s = now.getSeconds();
		}
	</script>
</body>

</html>